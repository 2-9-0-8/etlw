---
import { getEpisodes } from '@/lib/utils'

import Layout from '@/layouts/layout.astro'
import CatalogueCardList from '@/components/catalogue-card-list.astro'
import NoEpisodes from '@/components/no-episodes.astro'
import Wrapper from '@/components/wrapper.astro'
import YSection from '@/components/y-section.astro'

const episodes = await getEpisodes({
  fields: '_id, title, series, quotes, primaryEpisodeImage, secondaryEpisodeImage, slug',
})
---

<Layout title="Research" class="flex flex-col">
  <h1 class="sr-only">All research</h1>

  <div class="bg-b1ack-textured grow text-off-white">
    <Wrapper>
      <YSection size="md">
        {
          episodes.length ? (
            <CatalogueCardList {episodes} research />
          ) : (
            <NoEpisodes class="text-off-white" />
          )
        }
      </YSection>
    </Wrapper>
  </div>
</Layout>
